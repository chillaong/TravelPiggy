## 📊 项目全景现状 (V1.0 稳定版)

### 1. 已实现的交互动效

* **星星收割系统**：实现了“逐个点击”的高级交互，包含星星缩放反馈、向左上角余额飞行的**抛物线动效**，以及点击处即时弹出的 **“+1”淡出文字**。
* **角色状态机**：支持小猪在室内阅读（Idle）、出发前换装（Travel）以及旅行中背影（Back）的状态切换。
* **旅行计时闭环**：基于本地时间的倒计时功能已调通，支持离线计时，归来后自动触发奖励结算。
* **合成渲染引擎**：已解决**代码实时合成照片**的技术难点，能够将风景底图、小猪打卡素材与拍立得边框进行图层叠加渲染。

### 2. UI 与 场景架构

* **双场景切换**：卧室（功能区）与庭院（资源区）的无缝跳转逻辑。
* **地图交互原型**：世界地图已上线，具备**呼吸感 Pin 点**（小旗子）的视觉反馈，并已关联点击触发机制。
* **资产目录规范**：项目已完成从根目录向 `assets/` 文件夹的全面迁移，实现了场景、角色、UI、道具的分类管理。

---

## 📅 策划配置表架构 (CSV 方案)

为了实现“解耦”和“快速调整”，我为你规划了三张 CSV 逻辑表。以后你只需要在 Excel 里改这三张表，游戏内容就会自动更新。

### 表 A：`shop_items.csv` (商店与数值逻辑)

控制玩家买什么，花多少钱，以及去多远。

| 道具 ID | 名称 | 价格 | 旅行时间(分) | 距离等级 (Tier) | 对应图标坐标 |
| --- | --- | --- | --- | --- | --- |
| F01 | 巧克力 | 5 | 1 | 1 (近处) | 0, 0 |
| F03 | 牛肉汉堡 | 20 | 10 | 2 (次远) | 1, 0 |
| E02 | 无人机 | 100 | 0 | 道具 (额外加成) | 0, 1 |

### 表 B：`locations.csv` (地理位置与文案)

控制小猪去哪儿，以及地图上的展示。

| 地点 ID | 名称 | 地图 X (%) | 地图 Y (%) | 解锁门槛 (Tier) | 明信片手写文案 |
| --- | --- | --- | --- | --- | --- |
| LA | 洛杉矶 | 18 | 35 | 1 | 踩上星光大道啦！✨ |
| USH | 乌斯怀亚 | 28 | 82 | 3 | 世界尽头的冰川超美！❄️ |

### 表 C：`assets_map.csv` (资产路径配置)

控制所有图片资源的指向。

| 逻辑 ID | 资源类型 | 完整文件路径 | 说明 |
| --- | --- | --- | --- |
| UI_MAP | 背景图 | assets/ui/WorldMap_UI.jpg | 世界地图底图 |
| CHAR_IDLE | 角色 | assets/characters/pig_idel.png | 室内站立姿态 |
| FRAME_01 | UI | assets/ui/frame.png | 拍立得边框 |

---

## 🚀 后续玩法讨论点 (PM 决策预留)

1. **概率递增算法**：当玩家使用高级食物（Tier 3）时，是否需要剔除低级地点（Tier 1），还是保留低级地点作为“非酋保底”？
2. **无人机逻辑深度**：你提到的“同地点不同角度”，是需要在 `locations.csv` 里为每个地点增加 `Angle_B_Path` 字段，还是由代码自动对原图进行滤镜/缩放处理？
3. **装备消耗体验**：既然是一次性消耗品，是否需要在小猪出门前的 UI 上增加一个“装备格”，让玩家感知到道具已被带走？


